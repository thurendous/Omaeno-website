"use strict";(self.webpackChunkmy_website_with_docusaurus=self.webpackChunkmy_website_with_docusaurus||[]).push([[1413],{3905:(e,n,r)=>{r.d(n,{Zo:()=>p,kt:()=>c});var t=r(7294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function s(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var d=t.createContext({}),l=function(e){var n=t.useContext(d),r=n;return e&&(r="function"==typeof e?e(n):i(i({},n),e)),r},p=function(e){var n=l(e.components);return t.createElement(d.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,a=e.originalType,d=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=l(r),c=o,k=m["".concat(d,".").concat(c)]||m[c]||u[c]||a;return r?t.createElement(k,i(i({ref:n},p),{},{components:r})):t.createElement(k,i({ref:n},p))}));function c(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=m;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=r[l];return t.createElement.apply(null,i)}return t.createElement.apply(null,r)}m.displayName="MDXCreateElement"},716:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var t=r(7462),o=(r(7294),r(3905));const a={slug:"what-is-ERC721-and-NFT-with-code-explained",title:"NFT\u3001ERC721\u3068\u306f\u306a\u3093\u305e\u3084\uff08\u30b3\u30fc\u30c9\u89e3\u8aac\uff09",authors:["Thurendous","Polymetis"],blogDescription:"ERC721\u3068\u306f\u306a\u3093\u305e\u3084",tags:["ERC721","NFT","solidity"]},i=void 0,s={permalink:"/en/blog/what-is-ERC721-and-NFT-with-code-explained",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/ERC721/2022-12-22-about-private-var.md",source:"@site/blog/ERC721/2022-12-22-about-private-var.md",title:"NFT\u3001ERC721\u3068\u306f\u306a\u3093\u305e\u3084\uff08\u30b3\u30fc\u30c9\u89e3\u8aac\uff09",description:"Hello, everybody!",date:"2022-12-22T00:00:00.000Z",formattedDate:"December 22, 2022",tags:[{label:"ERC721",permalink:"/en/blog/tags/erc-721"},{label:"NFT",permalink:"/en/blog/tags/nft"},{label:"solidity",permalink:"/en/blog/tags/solidity"}],readingTime:6.672,hasTruncateMarker:!1,authors:[{name:"Thurendous",title:"Think borderlessly",url:"https://github.com/thurendous",imageURL:"https://github.com/thurendous.png",key:"Thurendous"},{name:"Polymetis",title:"Do your best now",url:"https://github.com/PolymetisOutis",imageURL:"https://github.com/PolymetisOutis.png",key:"Polymetis"}],frontMatter:{slug:"what-is-ERC721-and-NFT-with-code-explained",title:"NFT\u3001ERC721\u3068\u306f\u306a\u3093\u305e\u3084\uff08\u30b3\u30fc\u30c9\u89e3\u8aac\uff09",authors:["Thurendous","Polymetis"],blogDescription:"ERC721\u3068\u306f\u306a\u3093\u305e\u3084",tags:["ERC721","NFT","solidity"]},prevItem:{title:"ERC1155\u3068\u306f\u306a\u3093\u305e\u3084\uff08\u30b3\u30fc\u30c9\u89e3\u8aac\uff09",permalink:"/en/blog/what-is-ERC1155-with-code-explained"},nextItem:{title:"solidity\u306b\u304a\u3044\u3066\u306a\u305cprivate\u306a\u5909\u6570\u306fprivate\u3067\u306f\u306a\u3044\u306e\u304b",permalink:"/en/blog/private-variable-in-solidity-with-code-explained"}},d={authorsImageUrls:[void 0,void 0]},l=[],p={toc:l};function u(e){let{components:n,...a}=e;return(0,o.kt)("wrapper",(0,t.Z)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Hello, everybody!"),(0,o.kt)("h1",{id:"tldr"},"TL;DR"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"NFT \u306f\u975e\u4ee3\u66ff\u6027\u30c8\u30fc\u30af\u30f3\u306e\u3053\u3068"),(0,o.kt)("li",{parentName:"ul"},"\u30b7\u30f3\u30d7\u30eb\u306b\u3044\u3046\u3068\u30c7\u30b8\u30bf\u30eb\u6240\u6709\u6a29\u306e\u3053\u3068"),(0,o.kt)("li",{parentName:"ul"},"\u30b3\u30fc\u30c9\u3067\u7406\u89e3\u3057\u307e\u3057\u3087\u3046")),(0,o.kt)("p",null,(0,o.kt)("img",{src:r(4219).Z,width:"358",height:"640"})),(0,o.kt)("p",null,"BTC \u3084 ETH \u306e\u3088\u3046\u306a\u30c8\u30fc\u30af\u30f3\u306f FT \u3068\u547c\u3070\u308c\u3001\u4ee3\u66ff\u6027\u30c8\u30fc\u30af\u30f3\u306e\u3053\u3068\u3067\u3059\u3002\u7279\u5fb4\u3068\u3057\u3066\u306f\u3001\u304a\u4e92\u3044\u306b\u4ea4\u63db\u53ef\u80fd\u3067\u5927\u304d\u306a\u9055\u3044\u306f\u306a\u3044\u3053\u3068\u3067\u3059\uff08\u53b3\u5bc6\u306b\u306f\u9055\u3044\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u305d\u306e\u8b70\u8ad6\u3092\u3057\u306a\u3044\uff09\u3002\u307e\u305f\u3001\u30a2\u30fc\u30c8\u3001\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3001\u4e0d\u52d5\u7523\u306a\u3069\u306e\u3088\u3046\u306a\u304a\u4e92\u3044\u9055\u3044\u3092\u304b\u306a\u308a\u6301\u3063\u3066\u3044\u308b\u3088\u3046\u306a\u3082\u306e\u306f\u975e\u4ee3\u66ff\u6027\u30c8\u30fc\u30af\u30f3\u3067\u4ee3\u8868\u3055\u308c\u308b\u3053\u3068\u304c\u307b\u3068\u3093\u3069\u3067\u3059\u3002"),(0,o.kt)("p",null,"\u30a4\u30fc\u30b5\u30ea\u30a2\u30e0\u3067\u306f EIP721 \u304c\u63d0\u6848\u3055\u308c\u3066\u3001ERC721 \u306e\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u304c\u5f62\u6210\u3055\u308c\u307e\u3057\u305f\u3002"),(0,o.kt)("h1",{id:"eip-erc-\u3068\u306f"},"EIP, ERC \u3068\u306f"),(0,o.kt)("p",null,"\u7d50\u8ad6\uff1aEIP \u304c ERC \u3092\u542b\u3093\u3067\u3044\u308b"),(0,o.kt)("p",null,"\u307e\u305a\u3001\u7406\u89e3\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u306f\u3001",(0,o.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-721"},"ERC721")," \u3067\u3059\u3002\u3053\u306e\uff12\u3064\u306e\u9593\u306b\u306f\u306a\u3093\u306e\u95a2\u4fc2\u304c\u3042\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002EIP \u3068\u306f\u3001Ethereum Improvement Proposals \u306e\u3053\u3068\u3067\u3001\u30a4\u30fc\u30b5\u30ea\u30a2\u30e0\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u304c\u63d0\u6848\u3057\u305f\u30d7\u30ed\u30c8\u30b3\u30eb\u306a\u3069\u3092\u6539\u5584\u3059\u308b\u305f\u3081\u306e\u63d0\u6848\u306e\u3053\u3068\u3067\u3059\u3002EIP \u306f\u30a4\u30fc\u30b5\u30ea\u30a2\u30e0\u306e\u4e2d\u306e\u4efb\u610f\u306e\u5206\u91ce\u306e\u6539\u5584\u3067\u3001\u4f8b\u3048\u3070\u65b0\u305f\u306a\u6a5f\u80fd\u3001ERC\u3001\u30d7\u30ed\u30c8\u30b3\u30eb\u6539\u5584\u306a\u3069\u304c\u3042\u308a\u307e\u3059\u3002"),(0,o.kt)("p",null,"ERC \u3068\u306f\u3001Ethereum Request For Comment \u306e\u3053\u3068\u3067\u3001\u30a4\u30fc\u30b5\u30ea\u30a2\u30e0\u4e0a\u306e\u5404\u7a2e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u306e\u3053\u3068\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u5178\u578b\u7684\u306a ERC20, ERC721\u3001\u3042\u308b\u3044\u306f URI \u306e\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9 ERC67\u3001\u3042\u308b\u3044\u306f\u30a6\u30a9\u30ec\u30c3\u30c8\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 EIP75, EIP85 \u306a\u3069\u304c\u3042\u308b\u3002"),(0,o.kt)("p",null,"ERC \u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u306f\u30a4\u30fc\u30b5\u30ea\u30a2\u30e0\u306e\u767a\u5c55\u306b\u304a\u3051\u308b\u91cd\u8981\u306a\u69cb\u6210\u8981\u7d20\u3067\u3001ERC20, ERC721, ERC223, ERC777 \u306a\u3069\u306e\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u304c\u30a4\u30fc\u30b5\u30ea\u30a2\u30e0\u306e\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u306b\u591a\u5927\u306a\u5f71\u97ff\u3092\u4e0e\u3048\u3066\u3044\u307e\u3057\u305f\u3002"),(0,o.kt)("h1",{id:"erc165"},"ERC165"),(0,o.kt)("p",null,"\u307e\u305a ERC165 \u306b\u3064\u3044\u3066\u7406\u89e3\u3057\u307e\u3057\u3087\u3046\u3002\n\u30b9\u30de\u30fc\u30c8\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5ba3\u8a00\u3057\u3066\u4ed6\u306e\u30b9\u30de\u30fc\u30c8\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u304c\u30c1\u30a7\u30c3\u30af\u3059\u308b\u305f\u3081\u306b\u3084\u3063\u3066\u3044\u308b\u306e\u304c ERC165 \u306e\u3053\u3068\u3067\u3059\u3002"),(0,o.kt)("p",null,"\u30b7\u30f3\u30d7\u30eb\u306b\u3044\u3046\u3068\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"ERC165")," \u3092\u901a\u3057\u3066\u3068\u3042\u308b\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u304c ",(0,o.kt)("inlineCode",{parentName:"p"},"ERC721"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"ERC1155")," \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3067\u304d\u308b\u3068\u3044\u3046\u4ed5\u7d44\u307f\u3067\u3059\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sol"},"interface IERC165 {\n    /**\n     * @dev \u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u304c\u5f53\u8a72\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u306e`interfaceId`\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308c\u3070true\u3092\u8fd4\u3059\n     * \u8a73\u7d30\u306f\u3053\u3061\u3089\uff1ahttps://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified[EIP section]\n     *\n     */\n    function supportsInterface(bytes4 interfaceId) external view returns (bool);\n}\n")),(0,o.kt)("p",null,"\u6b21\u306b\u5b9f\u969b\u306b\u306f ERC721 \u304c\u3069\u306e\u3088\u3046\u306b ",(0,o.kt)("inlineCode",{parentName:"p"},"supportsInterface()"),"\u3092\u5b9f\u73fe\u3057\u305f\u306e\u304b\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sol"},"function supportsInterface(bytes4 interfaceId) external pure override returns (bool)\n    {\n        return\n            interfaceId == type(IERC721).interfaceId ||\n            interfaceId == type(IERC165).interfaceId;\n    }\n")),(0,o.kt)("p",null,"\u3053\u306e\u95a2\u6570",(0,o.kt)("inlineCode",{parentName:"p"},"supportsInterface"),"\u306f IERC721 \u3042\u308b\u3044\u306f IERC165 \u306e interfaceId \u304c\u5f15\u6570\u3068\u3057\u3066\u5165\u529b\u3055\u308c\u305f\u5834\u5408\u306b\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"true"),"\u3092\u8fd4\u3057\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306f",(0,o.kt)("inlineCode",{parentName:"p"},"false"),"\u3092\u8fd4\u3057\u307e\u3059\u3002"),(0,o.kt)("h1",{id:"ierc721"},"IERC721"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"IERC721"),"\u306e\u4e2d\u8eab\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n",(0,o.kt)("inlineCode",{parentName:"p"},"IERC721"),"\u306f",(0,o.kt)("inlineCode",{parentName:"p"},"ERC721"),"\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u306e\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3067\u3001ERC721 \u304c\u5b9f\u73fe\u3059\u3079\u304d\u4e00\u822c\u7684\u306a\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u307e\u3059\u3002",(0,o.kt)("inlineCode",{parentName:"p"},"tokenId"),"\u3092\u4f7f\u3063\u3066\u975e\u4ee3\u66ff\u6027\u30c8\u30fc\u30af\u30f3\u3092\u4ee3\u8868\u3057\u3066\u3044\u307e\u3059\u3002\u30a2\u30d7\u30eb\u30fc\u30d6\u3042\u308b\u3044\u306f\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u306b\u969b\u3057\u3066\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"tokenId"),"\u306f\u5fc5\u305a\u51fa\u756a\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001ERC20 \u306f\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u306b\u304a\u3051\u308b\u6570\u91cf\u3060\u3051\u3092\u5b9a\u7fa9\u3059\u308c\u3070\u3088\u304f\u3066\u3001tokenId \u306f\u3042\u308a\u307e\u305b\u3093\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sol"},"/**\n * @dev ERC721\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n */\ninterface IERC721 is IERC165 {\n    event Transfer(address indexed from, address indexed to, uint256 indexed tokenId);\n    event Approval(address indexed owner, address indexed approved, uint256 indexed tokenId);\n    event ApprovalForAll(address indexed owner, address indexed operator, bool approved);\n\n    function balanceOf(address owner) external view returns (uint256 balance);\n\n    function ownerOf(uint256 tokenId) external view returns (address owner);\n\n    function safeTransferFrom(\n        address from,\n        address to,\n        uint256 tokenId,\n        bytes calldata data\n    ) external;\n\n    function safeTransferFrom(\n        address from,\n        address to,\n        uint256 tokenId\n    ) external;\n\n    function transferFrom(\n        address from,\n        address to,\n        uint256 tokenId\n    ) external;\n\n    function approve(address to, uint256 tokenId) external;\n\n    function setApprovalForAll(address operator, bool _approved) external;\n\n    function getApproved(uint256 tokenId) external view returns (address operator);\n\n    function isApprovedForAll(address owner, address operator) external view returns (bool);\n}\n")),(0,o.kt)("h1",{id:"ierc721-\u306e-event"},"IERC721 \u306e event"),(0,o.kt)("p",null,"3 \u3064\u306e event \u3092\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002",(0,o.kt)("inlineCode",{parentName:"p"},"Transfer"),"\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"Approval"),"\u306f ERC20 \u306b\u3082\u5b58\u5728\u3057\u307e\u3059\u3002"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Transfer"),": \u30c8\u30fc\u30af\u30f3\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u306e\u3068\u304d\u306b\u653e\u51fa\u3002\u9001\u308a\u5143",(0,o.kt)("inlineCode",{parentName:"li"},"from"),"\u3001\u9001\u308a\u5148",(0,o.kt)("inlineCode",{parentName:"li"},"to"),"\u3001",(0,o.kt)("inlineCode",{parentName:"li"},"tokenId"),"\u3002"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Approvel"),": \u30a2\u30d7\u30eb\u30fc\u30d6\u3059\u308b\u3068\u304d\u306b\u653e\u51fa\u3002\u30a2\u30d7\u30eb\u30fc\u30d6\u3059\u308b\u5074\u306e\u30a2\u30c9\u30ec\u30b9",(0,o.kt)("inlineCode",{parentName:"li"},"owner"),"\u3001\u30a2\u30d7\u30eb\u30fc\u30d6\u3057\u305f\u5148\u306e\u30a2\u30c9\u30ec\u30b9",(0,o.kt)("inlineCode",{parentName:"li"},"approved"),"\u3001",(0,o.kt)("inlineCode",{parentName:"li"},"tokenId"),"\u3002"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ApprovalForAll"),": \u4e00\u6c17\u306b\u5927\u91cf\u306b\u30a2\u30d7\u30eb\u30fc\u30d6\u3059\u308b\u3068\u304d\u306b\u653e\u51fa\u3059\u308b\u30a4\u30d9\u30f3\u30c8\u3002\u30a2\u30d7\u30eb\u30fc\u30d6\u3059\u308b\u5074\u306e\u30a2\u30c9\u30ec\u30b9",(0,o.kt)("inlineCode",{parentName:"li"},"owner"),"\u3001\u30a2\u30d7\u30eb\u30fc\u30d6\u3055\u308c\u308b\u5074\u306e\u30a2\u30c9\u30ec\u30b9",(0,o.kt)("inlineCode",{parentName:"li"},"operator"),"\u3001\u30a2\u30d7\u30eb\u30fc\u30d6\u3059\u308b\u5834\u5408",(0,o.kt)("inlineCode",{parentName:"li"},"approved"),"\u306f true \u3067\u3001\u9006\u306b\u6a29\u9650\u3092\u5265\u596a\u3059\u308b\u5834\u5408\u3001",(0,o.kt)("inlineCode",{parentName:"li"},"approved"),"\u306f false \u306b\u3059\u308b")),(0,o.kt)("h1",{id:"ierc721-\u95a2\u6570"},"IERC721 \u95a2\u6570"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"balanceOf"),": \u3068\u3042\u308b\u30a2\u30c9\u30ec\u30b9\u306e\u6301\u3063\u3066\u3044\u308b NFT \u306e\u6570\u91cf\u3092\u8fd4\u3059"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ownerOf"),": tokenId \u306e\u30aa\u30fc\u30ca\u30fc\u3092\u8fd4\u3059"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"transferFrom"),": \u666e\u901a\u306e\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u3001\u5f15\u6570\u306f ",(0,o.kt)("inlineCode",{parentName:"li"},"from")," \u306f\u9001\u308a\u5143\u3067\u3001",(0,o.kt)("inlineCode",{parentName:"li"},"to")," \u306f\u9001\u308a\u5148\u3001",(0,o.kt)("inlineCode",{parentName:"li"},"tokenId "),"\u3082\u5fc5\u8981"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"safeTransferFrom"),":\u5b89\u5168\u306a\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u3001\u3082\u3057\u53d7\u3051\u308b\u5074\u306f\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u5834\u5408\u3001",(0,o.kt)("inlineCode",{parentName:"li"},"ERC721Receiver"),"\u306e\u5b9f\u88c5\u304c\u6c42\u3081\u3089\u308c\u308b\u3002\u5f15\u6570\u306f\u9001\u308a\u5143\u306e",(0,o.kt)("inlineCode",{parentName:"li"},"from"),"\u3001\u9001\u308a\u5148\u306e",(0,o.kt)("inlineCode",{parentName:"li"},"to"),"\u3001",(0,o.kt)("inlineCode",{parentName:"li"},"tokenId")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"approve"),": \u4ed6\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u3042\u306a\u305f\u306e NFT \u3092\u4f7f\u7528\u3059\u308b\u6a29\u5229\u3092\u6e21\u3059\u3002\u6a29\u5229\u3092\u4ed8\u4e0e\u3059\u308b\u30a2\u30c9\u30ec\u30b9\u306f",(0,o.kt)("inlineCode",{parentName:"li"},"to"),"\u3001\u305d\u3057\u3066",(0,o.kt)("inlineCode",{parentName:"li"},"tokenId"),"\u3082\u5f15\u6570\u306b"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"getApproved"),": ",(0,o.kt)("inlineCode",{parentName:"li"},"tokenId"),"\u304c\u3069\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u6a29\u9650\u3092\u4ed8\u4e0e\u3057\u305f\u306e\u304b\u78ba\u8a8d\u3059\u308b"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"setApprovalFroAll"),": \u81ea\u5206\u306e\u6301\u3063\u3066\u3044\u308b\u3053\u306e\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u3059\u3079\u3066\u306e NFT \u3092\u3068\u3042\u308b\u30a2\u30c9\u30ec\u30b9\u306b\u5bfe\u3057\u3066\u5168\u6a29\u79fb\u8b72\u3059\u308b"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"isApprovedForAll"),": \u5168\u6a29\u79fb\u8b72\u3057\u3066\u3044\u308b\u30a2\u30c9\u30ec\u30b9\u304c\u3042\u308b\u304b\u78ba\u8a8d\u3059\u308b"),(0,o.kt)("li",{parentName:"ul"},"safeTransferFrom",(0,o.kt)("inlineCode",{parentName:"li"},": \u5b89\u5168\u306a\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u95a2\u6570\u306e\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u95a2\u6570\u3001\u5f15\u6570\u306b"),"data`\u304c\u542b\u307e\u308c\u3066\u3044\u308b")),(0,o.kt)("h1",{id:"ierc721receiver"},"IERC721Receiver"),(0,o.kt)("p",null,"\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u304c\u3082\u3057 ERC721 \u306e\u5b9f\u73fe\u3092\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u9001\u3089\u308c\u3066\u304d\u305f NFT \u306f\u30d6\u30e9\u30c3\u30af\u30db\u30fc\u30eb\u306b\u9001\u3063\u305f\u3088\u3046\u306b\u3001\u6c38\u9060\u306b\u53d6\u308a\u51fa\u305b\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u9632\u6b62\u3059\u308b\u305f\u3081\u306b\u3001ERC721 \u306f",(0,o.kt)("inlineCode",{parentName:"p"},"safetransferFrom()"),"\u95a2\u6570\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b\u3002\u30bf\u30fc\u30b2\u30c3\u30c8\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u304c",(0,o.kt)("inlineCode",{parentName:"p"},"IERCReceiver"),"\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b\u5834\u5408\u306e\u307f\u3001ERC721 \u30c8\u30fc\u30af\u30f3\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306f",(0,o.kt)("inlineCode",{parentName:"p"},"revert"),"\u3055\u308c\u307e\u3059\u3002IERC721Receiver \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u4e00\u500b\u306e",(0,o.kt)("inlineCode",{parentName:"p"},"onERC721Receiver()"),"\u95a2\u6570\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sol"},"// ERC721Receiver\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\uff1a\u3000\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306f\u3053\u308c\u3092\u5b9f\u88c5\u3057\u3066\u5b89\u5168\u306a\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u3092\u53d7\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\ninterface IERC721Receiver {\n    function onERC721Received(\n        address operator,\n        address from,\n        uint tokenId,\n        bytes calldata data\n    ) external returns (bytes4);\n}\n\n")),(0,o.kt)("p",null,"\u6b21\u306b",(0,o.kt)("inlineCode",{parentName:"p"},"ERC721"),"\u304c\u3069\u3046\u3084\u3063\u3066",(0,o.kt)("inlineCode",{parentName:"p"},"_checkOnERC721Received"),"\u3092\u4f7f\u3063\u3066\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u304c",(0,o.kt)("inlineCode",{parentName:"p"},"onERC721Receiver()"),"\u95a2\u6570\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u3044\u308b\u306e\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sol"},"function _checkOnERC721Received(\n        address from,\n        address to,\n        uint tokenId,\n        bytes memory _data\n    ) private returns (bool) {\n        if (to.isContract()) {\n            return\n                IERC721Receiver(to).onERC721Received(\n                    msg.sender,\n                    from,\n                    tokenId,\n                    _data\n                ) == IERC721Receiver.onERC721Received.selector;\n        } else {\n            return true;\n        }\n    }\n")),(0,o.kt)("h1",{id:"ierc721metadata"},"IERC721Metadata"),(0,o.kt)("p",null,"IERC721Metadata \u306f ERC721 \u306e\u62e1\u5f35\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3002\uff13\u3064\u306e metadata \u7528\u95a2\u6570\u3092\u7528\u3044\u3066\u3044\u308b\u3002"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"name()"),"\uff1a\u30c8\u30fc\u30af\u30f3\u540d\u3092\u8fd4\u3059"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"symbol()"),":\u30c8\u30fc\u30af\u30f3\u7b26\u53f7"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"tokenURI()"),":tokenId \u3092\u4f7f\u3063\u3066 metadata \u306e url \u3092\u3068\u3063\u3066\u304f\u308b\u3002ERC721 \u7279\u6709\u306e\u95a2\u6570")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sol"},"interface Ierc721Metadata is IERC721 {\n    function name() external view returns (string memory);\n\n    function symbol() external view returns (string memory);\n\n    function tokenURI(uint256 tokenId) external view returns (string memory);\n}\n\n")),(0,o.kt)("h1",{id:"erc721-\u30e1\u30a4\u30f3\u30b3\u30f3\u30c8\u30e9\u30af\u30c8"},"ERC721 \u30e1\u30a4\u30f3\u30b3\u30f3\u30c8\u30e9\u30af\u30c8"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"ERC721")," \u30e1\u30a4\u30f3\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306f ",(0,o.kt)("inlineCode",{parentName:"p"},"IERC721"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"IERC165"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"IERC721Metadata")," \u306e\u3059\u3079\u3066\u306e\u6a5f\u80fd\u3092\u5b9a\u7fa9\u3057\u305f\u30024 \u3064\u306e\u72b6\u614b\u5909\u6570\u300117 \u500b\u306e\u95a2\u6570\u3092\u542b\u307e\u308c\u3066\u3044\u308b\u3002\u30b7\u30f3\u30d7\u30eb\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u3002\u8a73\u7d30\u306f\u30b3\u30e1\u30f3\u30c8\u3092\u8aad\u3093\u3067\u304f\u3060\u3055\u3044\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sol"},'// SPDX-License-Identifier: MIT\n// by 0xAA\npragma solidity ^0.8.4;\n\nimport "./IERC165.sol";\nimport "./IERC721.sol";\nimport "./IERC721Receiver.sol";\nimport "./IERC721Metadata.sol";\nimport "./Address.sol";\u3000// library\nimport "./String.sol"; // library\n\ncontract ERC721 is IERC721, IERC721Metadata{\n    using Address for address; // Address library\u3092\u4f7f\u3046\uff08isContract\u3092\u4f7f\u3046\u305f\u3081\uff09\n    using Strings for uint256; // String library\n\n    // Token\u540d\n    string public override name;\n    // Token\u30b7\u30f3\u30dc\u30eb\n    string public override symbol;\n    // tokenId -> owner address \u306e\u30de\u30c3\u30d4\u30f3\u30b0\n    mapping(uint => address) private _owners;\n    // address -> \u30d0\u30e9\u30f3\u30b9\u306e\u30de\u30c3\u30d4\u30f3\u30b0\n    mapping(address => uint) private _balances;\n    // tokenID -> \u30a2\u30d7\u30eb\u30fc\u30d6\u3055\u308c\u305f\u30a2\u30c9\u30ec\u30b9\u306e\u30de\u30c3\u30d4\u30f3\u30b0\n    mapping(uint => address) private _tokenApprovals;\n    //  owner -> operator\u30a2\u30c9\u30ec\u30b9 -> bool\uff08\u6a29\u9650\u6e21\u3057\u305f\u5834\u5408\u306ftrue\uff09\n    mapping(address => mapping(address => bool)) private _operatorApprovals;\n\n    /**\n     * constructor, name, symbol\u3092\u521d\u671f\u5316\u3059\u308b\n     */\n    constructor(string memory name_, string memory symbol_) {\n        name = name_;\n        symbol = symbol_;\n    }\n\n    // ERC165\u306esupportsInterface\u95a2\u6570\n    function supportsInterface(bytes4 interfaceId)\n        external\n        pure\n        override\n        returns (bool)\n    {\n        return\n            interfaceId == type(IERC721).interfaceId ||\n            interfaceId == type(IERC165).interfaceId ||\n            interfaceId == type(IERC721Metadata).interfaceId;\n    }\n\n    // IERC721\u306ebalanceOf\u95a2\u6570\u3001_balances\u3092\u4f7f\u3063\u3066\u8abf\u3079\u305f\u3044\u30a2\u30c9\u30ec\u30b9\u306e\u6b8b\u9ad8\u3092\u8fd4\u3059\n    function balanceOf(address owner) external view override returns (uint) {\n        require(owner != address(0), "owner = zero address");\n        return _balances[owner];\n    }\n\n    // IERC721\u306eownerOf\u95a2\u6570\u3001_owners\u5909\u6570\u3092\u4f7f\u3063\u3066tokenId\u306eowner\u3092\u8fd4\u3059\n    function ownerOf(uint tokenId) public view override returns (address owner) {\n        owner = _owners[tokenId];\n        require(owner != address(0), "token doesn\'t exist");\n    }\n\n    // IERC721\u306eisApprovedForAll\u3001_operatorApprovals\u5909\u6570\u3092\n    // \u4f7f\u3063\u3066owner\u304coperator\u306b\u6a29\u9650\u3092\u79fb\u8b72\u3057\u305f\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3002\n    // \u6a29\u9650\u79fb\u8b72\u3057\u305f\u5834\u5408\u306ftrue\u3092\u8fd4\u3059\n    function isApprovedForAll(address owner, address operator)\n        external\n        view\n        override\n        returns (bool)\n    {\n        return _operatorApprovals[owner][operator];\n    }\n\n    // IERC721\u306esetApprovalForAll\u3092\u5b9f\u88c5\u3002\u6301\u3063\u3066\u3044\u308b\u30c8\u30fc\u30af\u30f3\u3092\u3059\u3079\u3066operator\u306b\u6a29\u9650\u3092\u6e21\u3059(true),\n    // \u3042\u308b\u3044\u306foperator\u306e\u6a29\u9650\u3092\u5265\u596a\u3059\u308b(false)\u3002_setApprovalForAll\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3002\n    function setApprovalForAll(address operator, bool approved) external override {\n        _operatorApprovals[msg.sender][operator] = approved;\n        emit ApprovalForAll(msg.sender, operator, approved);\n    }\n\n    // \u5b9e\u73b0IERC721\u7684getApproved\uff0c\u5229\u7528_tokenApprovals\u53d8\u91cf\u67e5\u8be2tokenId\u7684\u6388\u6743\u5730\u5740\u3002\n    function getApproved(uint tokenId) external view override returns (address) {\n        require(_owners[tokenId] != address(0), "token doesn\'t exist");\n        return _tokenApprovals[tokenId];\n    }\n\n    // _approve\u95a2\u6570\u3002_tokenApprovals\u3092\u66f8\u304d\u63db\u3048\u3066\uff0cto\u30a2\u30c9\u30ec\u30b9\u306b tokenId\u3092\u3044\u3058\u308b\u6a29\u9650\u3092\u6e21\u3059\u3002\n    // Approval\u30a4\u30d9\u30f3\u30c8\u3092\u653e\u51fa\u3002\n    function _approve(\n        address owner,\n        address to,\n        uint tokenId\n    ) private {\n        _tokenApprovals[tokenId] = to;\n        emit Approval(owner, to, tokenId);\n    }\n\n    // IERC721\u306eapprove\u95a2\u6570\uff0ctokenId\u306e\u6a29\u9650\u3092 to \u30a2\u30c9\u30ec\u30b9\u306b\u6e21\u3059\u3002\n    // \u6761\u4ef6\uff1ato\u306fowner\u3067\u306f\u306a\u3044\u3053\u3068\uff0c\u304b\u3064msg.sender\u306fowner\u3042\u308b\u3044\u306fapprove\u3055\u308c\u305f\u30a2\u30c9\u30ec\u30b9\u3002\n    // _approve\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\n    function approve(address to, uint tokenId) external override {\n        address owner = _owners[tokenId];\n        require(\n            msg.sender == owner || _operatorApprovals[owner][msg.sender],\n            "not owner nor approved for all"\n        );\n        _approve(owner, to, tokenId);\n    }\n\n    //  spender\u30a2\u30c9\u30ec\u30b9\u304ctokenId\u3092\u4f7f\u3046\u6a29\u9650\u304c\u3042\u308b\u304b\u306a\u3044\u304b\u3092\u8abf\u3079\u308b\u3002\uff08\u3042\u308b\u306e\u306fowner\u304b\n    // approve\u3055\u308c\u305f\u304b\u306e\u3044\u305a\u308c\u3060\u3002approve\u3055\u308c\u305f\u5834\u5408\u306f\u901a\u5e38\u306eapprove\u3042\u308b\u3044\u306f\n    // setApprovalForAll\u306e2\u30d1\u30bf\u30fc\u30f3\uff09\n    function _isApprovedOrOwner(\n        address owner,\n        address spender,\n        uint tokenId\n    ) private view returns (bool) {\n        return (spender == owner ||\n            _tokenApprovals[tokenId] == spender ||\n            _operatorApprovals[owner][spender]);\n    }\n\n    /*\n     * \u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u95a2\u6570\u3002_balances\u3001_owner\u306e\u30d0\u30e9\u30f3\u30b9\u3092\u8abf\u6574\u3057\u3066 tokenId \u3092 from \u304b\u3089 to\u306b\n     * \u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u3059\u308b\u3002\u540c\u6642\u306bTransfer\u30a4\u30d9\u30f3\u30c8\u3092\u653e\u51fa\u3002\n     * \u524d\u63d0\u6761\u4ef6:\n     * 1. tokenId \u306f from \u306b\u3088\u3063\u3066\u6240\u6709\u3055\u308c\u3066\u3044\u308b\n     * 2. to \u306f\u30bc\u30ed\u30a2\u30c9\u30ec\u30b9\u3067\u306a\u3044\n     * \u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408\u306frevert\n     */\n    function _transfer(\n        address owner,\n        address from,\n        address to,\n        uint tokenId\n    ) private {\n        require(from == owner, "not owner");\n        require(to != address(0), "transfer to the zero address");\n\n        _approve(owner, address(0), tokenId); // \u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u3059\u308b\u306e\u3067\u6a29\u9650\u3092\u30ea\u30bb\u30c3\u30c8\u3059\u308b\n\n        _balances[from] -= 1;\n        _balances[to] += 1;\n        _owners[tokenId] = to;\n\n        emit Transfer(from, to, tokenId);\n    }\n\n    // IERC721\u306etransferFrom\u95a2\u6570\u306e\u5b9f\u88c5\uff0c\u30bb\u30fc\u30d5\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u3067\u306f\u306a\u3044\u306e\u3067\u3001\n    // \u3053\u306e\u95a2\u6570\u3092\u4f7f\u3046\u306e\u306f\u63a8\u5968\u3055\u308c\u3066\u3044\u306a\u3044\u3002\n    function transferFrom(\n        address from,\n        address to,\n        uint tokenId\n    ) external override {\n        address owner = ownerOf(tokenId);\n        require(\n            _isApprovedOrOwner(owner, msg.sender, tokenId),\n            "not owner nor approved"\n        );\n        _transfer(owner, from, to, tokenId);\n    }\n\n    /**\n     * \u30bb\u30fc\u30d5\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\uff0c\u5b89\u5168\u306btokenId\u3092from\u304b\u3089to\u3078\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u3059\u308b\u3002\u30b9\u30de\u30fc\u30c8\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u304c\n     * erc721\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u305f\u4e0a\u3067\u3001\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u3092\u3059\u308b\u306e\u3067\u3001NFT\u304c\u6c38\u9060\u306b\n     * \u30ed\u30c3\u30af\u3055\u308c\u308b\u5b9f\u614b\u3092\u56de\u907f\u3059\u308b\u3002_transfer\u3001_checkOnERC721Received\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3002\n     * \u6761\u4ef6\uff1a\n     * from \u306f\u30bc\u30ed\u30a2\u30c9\u30ec\u30b9\u3067\u306f\u306a\u3044\n     * to \u306f\u30bc\u30ed\u30a2\u30c9\u30ec\u30b9\u3067\u306f\u306a\u3044\n     * tokenId \u304c\u5b58\u5728\u3057\u3066\u3057\u304b\u3082from\u30a2\u30c9\u30ec\u30b9\u304c\u6240\u6709\n     * to\u304c\u30b9\u30de\u30fc\u30c8\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u306e\u5834\u5408\u3001\u5fc5\u305aIERC721Receiver-onERC721Received\u3092\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\n     * \u3053\u3068\u304c\u6c42\u3081\u3089\u308c\u308b\n     */\n    function _safeTransfer(\n        address owner,\n        address from,\n        address to,\n        uint tokenId,\n        bytes memory _data\n    ) private {\n        _transfer(owner, from, to, tokenId);\n        require(_checkOnERC721Received(from, to, tokenId, _data), "not ERC721Receiver");\n    }\n\n    /**\n     * IERC721\u306esafeTransferFrom\u3092\u5b9f\u88c5\u3002\u30bb\u30fc\u30d5\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u95a2\u6570\uff0c_safeTransfer\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\n     */\n    function safeTransferFrom(\n        address from,\n        address to,\n        uint tokenId,\n        bytes memory _data\n    ) public override {\n        address owner = ownerOf(tokenId);\n        require(\n            _isApprovedOrOwner(owner, msg.sender, tokenId),\n            "not owner nor approved"\n        );\n        _safeTransfer(owner, from, to, tokenId, _data);\n    }\n\n    // safeTransferFrom\u306e\u30aa\u30fc\u30d0\u30e9\u30a4\u30c9\u95a2\u6570\u3001\u5f15\u6570\u304c\u9055\u3046\n    function safeTransferFrom(\n        address from,\n        address to,\n        uint tokenId\n    ) external override {\n        safeTransferFrom(from, to, tokenId, "");\n    }\n\n    /**\n     * mint\u95a2\u6570\u3002_balances\u3001_owners\u306e\u30d0\u30e9\u30f3\u30b9\u3092\u3044\u3058\u308b\u3053\u3068\u3067\u3001tokenId\u3092to\u3078\u30c8\u30e9\u30f3\u30b9\u30d5\u30a1\u3059\u308b\u3002\n     * \u540c\u6642\u306bTransfer\u30a4\u30d9\u30f3\u30c8\u3092\u653e\u51fa\u3059\u308b\u3002\n     * \u73fe\u5728\u306e\u72b6\u614b\u3067\u306f\u3001\u8ab0\u3067\u3082\u30df\u30f3\u30c8\u3067\u304d\u308b\u306e\u3067\u3001\u958b\u767a\u8005\u306f\u666e\u901a\u3053\u306e\u95a2\u6570\u3092\u66f8\u304d\u63db\u3048\u308b\n     * \u6761\u4ef6:\n     * 1. tokenId\u304c\u307e\u3060\u5b58\u5728\u3057\u306a\u3044\n     * 2. to\u306f\u30bc\u30ed\u30a2\u30c9\u30ec\u30b9\u3067\u306a\u3044\n     */\n    function _mint(address to, uint tokenId) internal virtual {\n        require(to != address(0), "mint to zero address");\n        require(_owners[tokenId] == address(0), "token already minted");\n\n        _balances[to] += 1;\n        _owners[tokenId] = to;\n\n        emit Transfer(address(0), to, tokenId);\n    }\n\n    // \u30d0\u30fc\u30f3\u95a2\u6570\uff0c_balances\u3001_owners\u5909\u6570\u3092\u8abf\u6574\u3057\u3066tokenId\u3092\u30d0\u30fc\u30f3\u3059\u308b\u3002\u540c\u6642\u306bTransfer\u30a4\u30d9\u30f3\u30c8\u3092\u653e\u51fa\n    // \u6761\u4ef6\uff1atokenId\u5b58\u5728\u3002\n    function _burn(uint tokenId) internal virtual {\n        address owner = ownerOf(tokenId);\n        require(msg.sender == owner, "not owner of token");\n\n        _approve(owner, address(0), tokenId); // \u6a29\u9650\u3092\u66f4\u65b0\n\n        _balances[owner] -= 1;\n        delete _owners[tokenId];\n\n        emit Transfer(owner, address(0), tokenId);\n    }\n\n    // _checkOnERC721Received\uff1aIERC721Receiver-onERC721Received\u95a2\u6570, \u9001\u308a\u5148\u306fERC721\u4e92\u63db\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u305f\u3081\n    function _checkOnERC721Received(\n        address from,\n        address to,\n        uint tokenId,\n        bytes memory _data\n    ) private returns (bool) {\n        if (to.isContract()) {\n            return\n                IERC721Receiver(to).onERC721Received(\n                    msg.sender,\n                    from,\n                    tokenId,\n                    _data\n                ) == IERC721Receiver.onERC721Received.selector;\n        } else {\n            return true;\n        }\n    }\n\n    /**\n     * IERC721Metadata\u306etokenURI\u95a2\u6570\uff0cmetadata\u3092\u8fd4\u3059\n     */\n    function tokenURI(uint256 tokenId) public view virtual override returns (string memory) {\n        require(_owners[tokenId] != address(0), "Token Not Exist");\n\n        string memory baseURI = _baseURI();\n        return bytes(baseURI).length > 0 ? string(abi.encodePacked(baseURI, tokenId.toString())) : "";\n    }\n\n    /**\n     * {tokenURI}\u306eBaseURI\u3002tokenURI\u306fbaseURI\u3001tokenId\u3092\u3064\u306a\u3044\u3067\u3067\u304d\u305f\u3082\u306e\u3002\n     * \u958b\u767a\u8005\u304c\u3053\u306e\u95a2\u6570\u3092\u66f8\u304d\u304b\u3048\u308b\n     * \u4f8b\u3048\u3070BAYC\u306ebaseURI\u306fipfs://QmeSjSinHpPnmXmspMjwiXyN6zS4E9zccariGR3jxcaWtq/\n     */\n    function _baseURI() internal view virtual returns (string memory) {\n        return "";\n    }\n}\n\n')),(0,o.kt)("h1",{id:"free-mint-\u306e-ape-\u3092\u4f5c\u308d\u3046"},"free mint \u306e APE \u3092\u4f5c\u308d\u3046"),(0,o.kt)("p",null,"\u305d\u308c\u3067\u306f\u3001free mint \u306e APE \u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\u304b\u3002totalSupply \u3092 10000 \u500b\u306b\u3057\u3066\u3001mint \u95a2\u6570\u3084 baseURI \u3092\u66f8\u304d\u63db\u3048\u308b\u3060\u3051\u3067\u6e08\u307f\u307e\u3059\u3002"),(0,o.kt)("p",null,"baseURI()\u306e\u8a2d\u5b9a\u3092 BAYS \u3068\u5168\u304f\u540c\u3058\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067\u3001BAYC \u306e\u733f\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sol"},'\n// SPDX-License-Identifier: MIT\n// by 0xAA\npragma solidity ^0.8.4;\n\nimport "./ERC721.sol";\n\ncontract OmaenoApe is ERC721{\n    uint public MAX_APES = 10000; // \u7dcf\u6570\n\n    // \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\n    constructor(string memory name_, string memory symbol_) ERC721(name_, symbol_){\n    }\n\n    //BAYC\u306ebaseURI\u306fipfs://QmeSjSinHpPnmXmspMjwiXyN6zS4E9zccariGR3jxcaWtq/\n    function _baseURI() internal pure override returns (string memory) {\n        return "ipfs://QmeSjSinHpPnmXmspMjwiXyN6zS4E9zccariGR3jxcaWtq/";\n    }\n\n    // mint\u95a2\u6570\n    function mint(address to, uint tokenId) external {\n        require(tokenId >= 0 && tokenId < MAX_APES, "tokenId out of range");\n        _mint(to, tokenId);\n    }\n}\n')),(0,o.kt)("p",null,"\u305d\u308c\u3067\u306f remix \u3092\u958b\u3044\u3066\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u307e\u3057\u3087\u3046\u3002"),(0,o.kt)("h1",{id:"erc721-\u3092\u767a\u884c\u3057\u3088\u3046"},"ERC721 \u3092\u767a\u884c\u3057\u3088\u3046"),(0,o.kt)("p",null,"ERC721 \u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u304c\u3042\u308c\u3070\u3001\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u306b\u3066 NFT \u3092\u767a\u884c\u3059\u308b\u3053\u3068\u306f\u975e\u5e38\u306b\u30b7\u30f3\u30d7\u30eb\u306b\u306a\u308a\u307e\u3059\u3002\n\u4eca\u3001\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u304c\u3067\u304d\u305f\u306e\u3067\u3001remix \u306b\u3066\u767a\u884c\u3057\u307e\u3057\u3087\u3046\u3002"),(0,o.kt)("p",null,"\u5b9f\u969b\u306e\u624b\u9806\u306f\u307e\u305f\u306e\u6a5f\u4f1a\u3067\u66f8\u304d\u307e\u3059\u3002"),(0,o.kt)("h1",{id:"erc165-\u3068-erc721"},"ERC165 \u3068 ERC721"),(0,o.kt)("p",null,"NFT \u3092 NFT \u306b\u3064\u3044\u3066\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3067\u304d\u306a\u3044\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3078\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u3068\u3001\u6c38\u9060\u306b\u6d88\u5931\u3057\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u3053\u308c\u3092\u9632\u3050\u305f\u3081\u306b",(0,o.kt)("inlineCode",{parentName:"p"},"ERC721TokenReceiver"),"\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u306e\u5b9f\u88c5\u304c\u6c42\u3081\u3089\u308c\u307e\u3059\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sol"},"interface ERC721TokenReceiver {\n    function onERC721Received(address _operator, address _from, uint256 _tokenId, bytes _data) external returns(bytes4);\n}\n")),(0,o.kt)("p",null,"\u5b9f\u306f\u3053\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3068\u306f\u3001\u3053\u306e ",(0,o.kt)("inlineCode",{parentName:"p"},"onERC721REceived")," \u95a2\u6570\u306e\u3053\u3068\u3067\u3059\u3002\u3053\u306e\u95a2\u6570\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308c\u3070\u3001NFT \u3092\u51e6\u7406\u3059\u308b\u80fd\u529b\u304c\u3042\u308b\u3068\u3044\u3046\u5ba3\u8a00\u306b\u306a\u308a\u307e\u3059\u3002"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"THE END")),(0,o.kt)("p",null,(0,o.kt)("img",{src:r(8737).Z,width:"498",height:"491"})))}u.isMDXComponent=!0},8737:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/ethereum-eth-e79389c064d88fe1afc443c10c074467.gif"},4219:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/nft-nfts-0d7ff2b6e4905c3b0149cb798f18ace2.gif"}}]);